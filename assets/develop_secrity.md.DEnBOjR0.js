import{_ as r,C as a,c as n,o as s,j as t,G as o,ar as d,a as c}from"./chunks/framework.DwOsETNj.js";const h="/assets/ee783d20a736e4414d52def4dda16bbc.Dm5LuD3f.png",p="/assets/d76c443e887c721c8a92586972af1e03.Dxa65zIQ.png",_="/assets/9c842535cd9204e4f4d1df398efed16f.C8z-C67H.png",B=JSON.parse('{"title":"9月5日 OneBot 安全问题复盘","description":"","frontmatter":{},"headers":[],"relativePath":"develop/secrity.md","filePath":"develop/secrity.md","lastUpdated":1757223870000}'),b={name:"develop/secrity.md"};function m(u,e,f,k,P,x){const l=a("NolebasePageProperties"),i=a("NolebaseGitChangelog");return s(),n("div",null,[e[0]||(e[0]=t("h1",{id:"_9月5日-onebot-安全问题复盘",tabindex:"-1"},[c("9月5日 OneBot 安全问题复盘 "),t("a",{class:"header-anchor",href:"#_9月5日-onebot-安全问题复盘","aria-label":'Permalink to "9月5日 OneBot 安全问题复盘"'},"​")],-1)),o(l),e[1]||(e[1]=d('<h2 id="资料" tabindex="-1">资料 <a class="header-anchor" href="#资料" aria-label="Permalink to &quot;资料&quot;">​</a></h2><p><img src="'+h+'" alt="alt text"><img src="'+p+'" alt="alt text"><img src="'+_+'" alt="alt text"></p><h2 id="前情提要" tabindex="-1">前情提要 <a class="header-anchor" href="#前情提要" aria-label="Permalink to &quot;前情提要&quot;">​</a></h2><p>2025年9月5日，OneBot 生态内爆发了一场严重的安全事件，导致多个使用 OneBot 协议的机器人平台攻击，发送违法信息，甚至引发了大规模的网络攻击。作为主要沦陷框架将对事件的起因、经过及后续影响进行详细分析。</p><h2 id="事件起因" tabindex="-1">事件起因 <a class="header-anchor" href="#事件起因" aria-label="Permalink to &quot;事件起因&quot;">​</a></h2><p>经过数据分析和溯源，事件的起因被锁定在 OneBot 协议无Token问题上，大量用户采用一键包和一键脚本，暴露公网环境，导致攻击者通过扫描工具发现了大量暴露的 OneBot 机器人实例。</p><h2 id="问题整理" tabindex="-1">问题整理 <a class="header-anchor" href="#问题整理" aria-label="Permalink to &quot;问题整理&quot;">​</a></h2><ul><li>大量用户不修改OneBot Token，导致攻击者可以轻易地通过空Token访问机器人实例。</li><li>受影响的主要为OneBot Http Server/WebSocket Server，攻击者通过发送恶意请求，控制机器人发送违法信息。</li><li>事件中，攻击者利用机器人发送了违法信息，甚至引发了大规模的网络攻击，影响范围广泛。</li><li>NapCat 未提供随机OneBot Token默认随机填充 (部分用户偷懒)</li><li>NapCat 多数服务以0.0.0.0 IPV4全监听，导致公网暴露 (方便用户致使问题)</li></ul><h2 id="其余安全问题" tabindex="-1">其余安全问题 <a class="header-anchor" href="#其余安全问题" aria-label="Permalink to &quot;其余安全问题&quot;">​</a></h2><ul><li>NapCat 存在大量公网暴露的实例 WebUi也存在强安全风险 (并非此次事件问题)</li></ul><h2 id="意见" tabindex="-1">意见 <a class="header-anchor" href="#意见" aria-label="Permalink to &quot;意见&quot;">​</a></h2><ul><li>随机默认Onebot Token</li><li>可禁止局域网外访问</li><li>登录速率配置</li><li>登录随机化WebUi密钥</li><li>采用账号消息通知用户Token更新</li><li>强制要求用户登录后修改密码</li></ul>',12)),o(i)])}const N=r(b,[["render",m]]);export{B as __pageData,N as default};
